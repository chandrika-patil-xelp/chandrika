<?php include 'jBhead.html' ?>
<body>
  <div class="detaCmngcnt"></div>
    <div class="container preview">
        <?php include 'jBheader.html' ?>
        <div class="contents fLeft">
            <div class="wrapperMax fmOpenR">
                <section id='general_Section' class="generalCont">
                    <div class="commTitle1 fmOpenR">General Information</div>
                    <div class="fieldTitle fLeft">
                        <div class="w50 fLeft c4d padR15 fmOpenB">Product Name <span class="fRight">:</span></div>
                        <div class="w50 fRight" id='prproduct_name'></div>
                    </div>
                    <div class="fieldTitle fLeft">
                        <div class="w50 fLeft c4d padR15 fmOpenB">Product SEO Name <span class="fRight">:</span></div>
                        <div class="w50 fRight" id='prproduct_seo_name'></div>
                    </div>
                    <div class="fieldTitle fLeft ">
                        <div class="w50 fLeft c4d padR15 fmOpenB">Category <span class="fRight">:</span></div>
                        <div class="w50 fRight txtCap" id='prcategories'></div>
                    </div>
                    <div class="fieldTitle fLeft ">
                        <div class="w50 fLeft c4d padR15 fmOpenB">Vendor <span class="fRight">:</span></div>
                        <div class="w50 fRight" id='prvendorid'></div>
                    </div>
                    <div class="breakLine"></div>
                    <div class="fieldTitle fLeft w50">
                        <div class="w50 fLeft c4d padR15 fmOpenB">Product Weight (grms) <span class="fRight">:</span></div>
                        <div class="w50 fRight" id='prproduct_weight'></div>
                    </div>

                    <div class="fieldTitle fLeft w50">
                        <div class="w50 fLeft c4d padR15 fmOpenB">Gender <span class="fRight">:</span></div>
                        <div class="w50 fRight" id='prgender'></div>
                    </div>

                    <div class="fieldTitle fLeft w50">
                        <div class="w50 fLeft c4d padR15 fmOpenB">Diamond Setting Type <span class="fRight">:</span></div>
                        <div class="w50 fRight" id='prdmdSetting'></div>
                    </div>
                    <div class="fieldTitle fLeft w50">
                        <div class="w50 fLeft c4d padR15 fmOpenB">Product Certificate <span class="fRight">:</span></div>
                        <div class="w50 fRight" id='prcertificate'></div>
                    </div>
                    <div class="fieldTitle fLeft w50">
                        <div class="w50 fLeft c4d padR15 fmOpenB">Metal Weight(Grm)<span class="fRight">:</span></div>
                        <div class="w50 fRight" id='prmetal_weight'></div>
                    </div>
                    <div class="fieldTitle fLeft w50">
                        <div class="w50 fLeft c4d padR15 fmOpenB">Making Charges/Grm<span class="fRight">:</span></div>
                        <div class="w50 fRight" id='prmaking_charges'></div>
                    </div>
                    <div class="fieldTitle fLeft w50">
                        <div class="w50 fLeft c4d padR15 fmOpenB">Procurement Cost<span class="fRight">:</span></div>
                        <div class="w50 fRight" id='prprocurement_cost'></div>
                    </div>
                    <div class="fieldTitle fLeft w50">
                        <div class="w50 fLeft c4d padR15 fmOpenB">Margin<span class="fRight">:</span></div>
                        <div class="w50 fRight" id='prmargin'></div>
                    </div>
                    <div class="fieldTitle fLeft w50">
                        <div class="w50 fLeft c4d padR15 fmOpenB">Measurement<span class="fRight">:</span></div>
                        <div class="w50 fRight" id='prmeasurement'></div>
                    </div>
                    <div class="fieldTitle fLeft w50">
                        <div class="w50 fLeft c4d padR15 fmOpenB">Metal Purity<span class="fRight">:</span></div>
                        <div class="w50 fRight"></div>
                    </div>
                    <div class="fieldTitle fLeft w50">
                        <div class="w50 fLeft c4d padR15 fmOpenB">Metal color<span class="fRight">:</span></div>
                        <div class="w50 fRight"></div>
                    </div>
                </section>



                <section id='prsolitaires_Section' class="solitaireCont dn">
                    <div class="commTitle1 fmOpenL fLeft">Added Solitaire(s)</div>
                    <div class="newElements fLeft" id="prnewSolitaires"></div>
                </section>


                <section id='prdiamond_Section' class="solitaireCont dn">
                    <div class="commTitle1 fmOpenL fLeft">Added Diamond(s)</div>
                    <div class="newElements fLeft" id="prnewDiamonds"></div>
                </section>


                <section id='pruncut_Section' class="solitaireCont">
                    <div class="commTitle1 fmOpenL fLeft">Added Uncut(s)</div>
                    <div class="newElements fLeft" id="prnewUncut"></div>
                </section>

                <section id='prgemstone_Section' class="solitaireCont">
                    <div class="commTitle1 fmOpenL fLeft">Added Gemstone(s)</div>
                    <div class="newElements fLeft" id="prnewgemstone"></div>
                </section>
                
                <section id="prprice_Section" class="priceCont dn">
                    <div class="priceHeading fmOpenB"><span class="c4d">Grand Total</span><span class="fRight">&#8377 2,00,000</span></div>
                </section>
                
                
                
                <div class="btnCont fLeft">
                    <center>
                        <a href='<?php echo DOMAIN; ?>backend/index.php?action=products'><div class="cancelBtn transition300 fmOpenR poR" onclick="">CANCEL</div></a>
                        <div class="submitBtn transition300 fmOpenR poR" onclick="addProduct()" id="Submitdiv">SUBMIT</div>
                    </center>
                </div>
            </div>
        </div>
    </div>
    
    
    <script>
    var previewData='{"mpurity":["1"],"metalcolor":["1"],"sizes":[{"2":"2"},{"3":"3"}],"solitaires":[{"solitaire_id":"1620160213170027","shape":"Radiant","color":"N","clarity":"SI2","cut":"Good","symmetry":"Good","polish":"Good","fluorescence":"Strong","carat":"2","price_per_carat":"2","table":"2","crown_angle":"2","girdle":"2"}],"has_solitaire":1,"diamonds":[{"diamond_id":"3620160215113707","shape":"Marquise","carat":"12","total_no":"12","quality":["6","7","8","9","10"]}],"has_diamond":1,"uncut":[{"uncut_id":"3120160215121737","color":"D,N,O","carat":"1","total_no":"1","quality":"IF","price_per_carat":"1"}],"has_uncut":1,"gemstone":[{"gvalue":"1","carat":"11","total_no":"11","price_per_carat":"11"},{"gvalue":"2","carat":"1","total_no":"3","price_per_carat":"2"},{"gvalue":"4","carat":"2","total_no":"4","price_per_carat":"3"},{"gvalue":"17","carat":"3","total_no":"5","price_per_carat":"4"}],"has_gemstone":1,"details":{"vendorid":"2","product_name":"22K%20Gold%20Rings","product_seo_name":"22K%20Office%20wear%20Golden%20Rings","gender":"1","product_weight":"15","certificate":"SGL","metal_weight":"15","making_charges":"15","procurement_cost":"15","margin":"15","measurement":"15X15","dmdSetting":"Channel,Invisible,Cluster"},"productid":"9320160211205332","userid":"1","catid":"9720160208112139,4720160203110353,11,1,6120160130123733,2120160129184116,2,10,9,1720160129182503"}';
    var categories='[{"cid":"9720160208112139","pid":"0","name":"Testing","active":"1"},{"cid":"4720160203110353","pid":"0","name":"Collection","active":"1"},{"cid":"6120160130123733","pid":"1","name":"Rings","active":"1"},{"cid":"8520160129184525","pid":"4","name":"Test 4","active":"1"},{"cid":"9020160129184442","pid":"4","name":"Test 4","active":"1"},{"cid":"3220160129184357","pid":"4","name":"Test 4","active":"1"},{"cid":"2120160129184116","pid":"1","name":"Test Cat 3","active":"1"},{"cid":"1720160129182503","pid":"9","name":"Test Category 2","active":"1"},{"cid":"7120160129180756","pid":"4","name":"Test Category 1","active":"1"},{"cid":"11","pid":"0","name":"diamond jewellery","active":"1"},{"cid":"10","pid":"11","name":"men rings","active":"1"},{"cid":"9","pid":"11","name":"gold earrings","active":"1"},{"cid":"8","pid":"3","name":"noserings","active":"1"},{"cid":"7","pid":"1","name":"bracelets","active":"1"},{"cid":"6","pid":"1","name":"bangles","active":"1"},{"cid":"5","pid":"1","name":"chains","active":"1"},{"cid":"4","pid":"1","name":"pendants","active":"1"},{"cid":"3","pid":"1","name":"earrings","active":"1"},{"cid":"2","pid":"1","name":"rings","active":"1"},{"cid":"1","pid":"0","name":"jewellery","active":"1"}]';
    categories= JSON.parse(categories);
   
    var gemstonelist= '[{"id":"1","name":"Amber","desc":""},{"id":"2","name":"Amethyst","desc":""},{"id":"3","name":"Aquamarine","desc":""},{"id":"4","name":"Blue Topaz","desc":""},{"id":"5","name":"Coral","desc":""},{"id":"6","name":"Emerald","desc":""},{"id":"7","name":"Garnet","desc":""},{"id":"8","name":"Metalen Topaz","desc":""},{"id":"9","name":"Hydro","desc":""},{"id":"10","name":"Iolite","desc":""},{"id":"11","name":"Lemon Topaz","desc":""},{"id":"12","name":"Moonstone","desc":""},{"id":"13","name":"Onyx","desc":""},{"id":"14","name":"Opal","desc":""},{"id":"15","name":"Pearl","desc":""},{"id":"16","name":"Peridot","desc":""},{"id":"17","name":"Rose Quartz","desc":""},{"id":"18","name":"Rubilite","desc":""},{"id":"19","name":"Ruby","desc":""},{"id":"20","name":"Sapphire","desc":""},{"id":"21","name":"Smoky topaz","desc":""},{"id":"22","name":"Tanzanite","desc":""},{"id":"23","name":"Turquoise","desc":""}]';
    gemstonelist=JSON.parse(gemstonelist);
   
    function showpreview()
    {
        var data=JSON.parse(previewData);
        //console.log(data);
        
        var mpurity=data['mpurity'];
        var metalcolor=data['metalcolor'];
        var sizes=data['sizes'];
        var solitaires=data['solitaires'];
        var has_solitaire=data['has_solitaire'];
        var diamonds=data['diamonds'];
        var has_diamond=data['has_diamond'];
        var uncut=data['uncut'];
        var has_uncut=data['has_uncut'];
        var gemstone=data['gemstone'];
        var has_gemstone=data['has_gemstone'];
        var details=data['details'];
        var catid=data['catid'].split(",");
        
            $('#prvendorid').text(details["vendorid"]);
            $('#prproduct_name').text(decodeURIComponent(details["product_name"]));
            $('#prproduct_seo_name').text(decodeURIComponent(details["product_seo_name"]));
            $('#prgender').text(details["gender"]);
            $('#prproduct_weight').text(details["product_weight"]);
            $('#prcertificate').text(details["certificate"]);
            $('#prmetal_weight').text(details["metal_weight"]+" grm");
            $('#prmaking_charges').html("&#8377; "+details["making_charges"]);
            $('#prprocurement_cost').html("&#8377; "+details["procurement_cost"]);
            $('#prmargin').html(details["margin"]);
            $('#prmeasurement').html(details["measurement"]);
            $('#prdmdSetting').html(details["dmdSetting"]);

            
            var catstr="";
            $(catid).each(function(i){
                $(categories).each(function(j,vl){
                    if(catid[i]==vl.cid && i<catid.length-1)
                    {
                        catstr+=vl.name+" , ";
                    }
                    else if(catid[i]==vl.cid)
                    {
                            catstr+=vl.name;
                    }
                });
                
            });
            $('#prcategories').append(catstr);


            if(has_solitaire==1)
            {
                var str="";
                $(solitaires).each(function(j,vl){
                    str+="<div class='commCont fLeft poR forAuto'>";
                    str+="<div class='shapeComm "+vl.shape+"'></div>";
                    str+="<div class='fieldTitle fLeft '>";
                    str+="<div class='w50 fLeft c4d padR15 fmOpenB'>Color <span class='fRight'>:</span></div>";
                    str+="<div class='w50 fRight'>"+vl.color+"</div>";
                    str+="</div>";
                    str+="<div class='fieldTitle fLeft '>";
                    str+="<div class='w50 fLeft c4d padR15 fmOpenB'>Clarity <span class='fRight'>:</span></div>";
                    str+="<div class='w50 fRight'>"+vl.clarity+"</div>";
                    str+="</div>";
                    str+="<div class='fieldTitle fLeft'>";
                    str+="<div class='w50 fLeft c4d padR15 fmOpenB'>Cut <span class='fRight'>:</span></div>";
                    str+="<div class='w50 fRight'>"+vl.cut+"</div>";
                    str+="</div>";
                    str+="<div class='fieldTitle fLeft'>";
                    str+="<div class='w50 fLeft c4d padR15 fmOpenB'>Symmetry <span class='fRight'>:</span></div>";
                    str+="<div class='w50 fRight'>"+vl.symmetry+"</div>";
                    str+="</div>";
                    str+="<div class='fieldTitle fLeft'>";
                    str+="<div class='w50 fLeft c4d padR15 fmOpenB'>Polish <span class='fRight'>:</span></div>";
                    str+="<div class='w50 fRight'>"+vl.polish+"</div>";
                    str+="</div>";
                    str+="<div class='fieldTitle fLeft'>";
                    str+="<div class='w50 fLeft c4d padR15 fmOpenB'>Fluorescence <span class='fRight'>:</span></div>";
                    str+="<div class='w50 fRight'>"+vl.fluorescence+"</div>";
                    str+="</div>";
                    str+="<div class='fieldTitle fLeft '>";
                    str+="<div class='w50 fLeft c4d padR15 fmOpenB'>Carat <span class='fRight'>:</span></div>";
                    str+="<div class='w50 fRight'>"+vl.carat+"</div>";
                    str+="</div>";
                    str+="<div class='fieldTitle fLeft '>";
                    str+="<div class='w50 fLeft c4d padR15 fmOpenB'>Price/Carat <span class='fRight'>:</span></div>";
                    str+="<div class='w50 fRight'>&#8377;"+vl.price_per_carat+"</div>";
                    str+="</div>";
                    str+="<div class='fieldTitle fLeft'>";
                    str+="<div class='w50 fLeft c4d padR15 fmOpenB'>Table <span class='fRight'>:</span></div>";
                    str+="<div class='w50 fRight'>"+vl.table+"</div>";
                    str+="</div>";
                    str+="<div class='fieldTitle fLeft'>";
                    str+="<div class='w50 fLeft c4d padR15 fmOpenB'>Crown Angle <span class='fRight'>:</span></div>";
                    str+="<div class='w50 fRight'>"+vl.crown_angle+"</div>";
                    str+="</div>";
                    str+="<div class='fieldTitle fLeft'>";
                    str+="<div class='w50 fLeft c4d padR15 fmOpenB'>Gridle<span class='fRight'>:</span></div>";
                    str+="<div class='w50 fRight'>"+vl.girdle+"</div>";
                    str+="</div>";
                    str+="</div>";
                    str+="<div class='breakLine'></div>";

                });

                $('#prnewSolitaires').append(str);
                $('#prsolitaires_Section').removeClass('dn');
            }
        
        
        
            if(has_diamond==1)
            {
                var str="";
                $(diamonds).each(function(i,vl){
                    str+="<div class='commCont fLeft poR'>";
                    str+="<div class='shapeComm "+vl.shape+"'></div>";
                    str+="<div class='outContr'>";                            
                    str+="<div class='fieldTitle fLeft '>";
                    str+="<div class='w50 fLeft c4d padR15 fmOpenB'>Diamond Quality <span class='fRight'>:</span></div>";
                    str+="<div class='w50 fRight'>"+vl.quality.toString()+"</div>";
                    str+="</div>";
                    str+="<div class='fieldTitle fLeft '>";
                    str+="<div class='w50 fLeft c4d padR15 fmOpenB'>Carat <span class='fRight'>:</span></div>";
                    str+="<div class='w50 fRight'>"+vl.carat+"</div>";
                    str+="</div>";
                    str+="<div class='fieldTitle fLeft'>";
                    str+="<div class='w50 fLeft c4d padR15 fmOpenB'>Pieces<span class='fRight'>:</span></div>";
                    str+="<div class='w50 fRight'>"+vl.total_no+"</div>";
                    str+="</div>";
                    str+="</div>";
                    str+="</div>";
                    str+="<div class='breakLine'></div>";
                });

                $('#prnewDiamonds').append(str);
                $('#prdiamond_Section').removeClass('dn');
                
            }
            
            
            if(has_uncut==1)
            {
                var str="";
                $(uncut).each(function(i,vl){
                    str+="<div class='commCont fLeft'>";
                    str+="<div class='outContr fLeft'>";                            
                    str+="<div class='fieldTitle fLeft '>";
                    str+="<div class='w50 fLeft c4d padR15 fmOpenB'>Diamond Color <span class='fRight'>:</span></div>";
                    str+="<div class='w50 fRight'>"+vl.color+"</div>";
                    str+="</div>";
                    str+="<div class='fieldTitle fLeft '>";
                    str+="<div class='w50 fLeft c4d padR15 fmOpenB'>Diamond Quality <span class='fRight'>:</span></div>";
                    str+="<div class='w50 fRight'>"+vl.quality+"</div>";
                    str+="</div>";
                    str+="<div class='fieldTitle fLeft '>";
                    str+="<div class='w50 fLeft c4d padR15 fmOpenB'>Carat <span class='fRight'>:</span></div>";
                    str+="<div class='w50 fRight'>"+vl.carat+"</div>";
                    str+="</div>";
                    str+="<div class='fieldTitle fLeft '>";
                    str+="<div class='w50 fLeft c4d padR15 fmOpenB'>Price/Carat <span class='fRight'>:</span></div>";
                    str+="<div class='w50 fRight'>&#8377; "+vl.price_per_carat+"</div>";
                    str+="</div>";
                    str+="<div class='fieldTitle fLeft'>";
                    str+="<div class='w50 fLeft c4d padR15 fmOpenB'>Pieces<span class='fRight'>:</span></div>";
                    str+="<div class='w50 fRight'>"+vl.total_no+"</div>";
                    str+="</div>";
                    str+="</div>";
                    str+="</div>";
                    str+="<div class='breakLine'></div>";
                });

                $('#prnewUncut').append(str);
                $('#pruncut_Section').removeClass('dn');
                
            }
        
        
        
        if(has_gemstone==1)
        {
            var str="";
            $(gemstone).each(function(i,vl){
                str+="<div class='commCont fLeft'>";
                str+="<div class='outContr fLeft'>";
                str+="<div class='fieldTitle fLeft '>";
                str+="<div class='w50 fLeft c4d padR15 fmOpenB'>Gemstone<span class='fRight'>:</span></div>";
                str+="<div class='w50 fRight'>"+getGemstoneName(vl.gvalue)+"</div>";
                str+="</div>";
                str+="<div class='fieldTitle fLeft '>";
                str+="<div class='w50 fLeft c4d padR15 fmOpenB'>Carat <span class='fRight'>:</span></div>";
                str+="<div class='w50 fRight'>"+vl.carat+"</div>";
                str+="</div>";
                str+="<div class='fieldTitle fLeft '>";
                str+="<div class='w50 fLeft c4d padR15 fmOpenB'>Price/Carat <span class='fRight'>:</span></div>";
                str+="<div class='w50 fRight'>"+vl.price_per_carat+"</div>";
                str+="</div>";
                str+="<div class='fieldTitle fLeft'>";
                str+="<div class='w50 fLeft c4d padR15 fmOpenB'>Pieces<span class='fRight'>:</span></div>";
                str+="<div class='w50 fRight'>"+vl.total_no+"</div>";
                str+="</div>";
                str+="</div>";
                str+="</div>";
                str+="<div class='breakLine'></div>";
            });

            $('#prnewgemstone').append(str);
            $('#prgemstone_Section').removeClass('dn');

        }
    }
    
    
    showpreview();
    
    
    function getGemstoneName(id)
    {
        var name;
        $(gemstonelist).each(function(i,v){
            if(v.id==id)
            {
                name=v.name;
                return v.name;
            }
        });
        
        return name;
    }
    
    
    
    </script>
</body>
</html>